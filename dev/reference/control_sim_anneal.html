<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Control aspects of the simulated annealing search process — control_sim_anneal • finetune</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Control aspects of the simulated annealing search process — control_sim_anneal"><meta name="description" content="Control aspects of the simulated annealing search process"><meta property="og:description" content="Control aspects of the simulated annealing search process"><meta property="og:image" content="https://finetune.tidymodels.org/logo.png"><meta name="robots" content="noindex"><script defer data-domain="finetune.tidymodels.org,all.tidymodels.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">finetune</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidymodels/finetune/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Control aspects of the simulated annealing search process</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidymodels/finetune/blob/main/R/control_sim_anneal.R" class="external-link"><code>R/control_sim_anneal.R</code></a></small>
      <div class="d-none name"><code>control_sim_anneal.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Control aspects of the simulated annealing search process</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">control_sim_anneal</span><span class="op">(</span></span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose_iter <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  no_improve <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  restart <span class="op">=</span> <span class="fl">8L</span>,</span>
<span>  radius <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.15</span><span class="op">)</span>,</span>
<span>  flip <span class="op">=</span> <span class="fl">3</span><span class="op">/</span><span class="fl">4</span>,</span>
<span>  cooling_coef <span class="op">=</span> <span class="fl">0.02</span>,</span>
<span>  extract <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_pred <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  time_limit <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  pkgs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save_workflow <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save_history <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  event_level <span class="op">=</span> <span class="st">"first"</span>,</span>
<span>  parallel_over <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  allow_par <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  backend_options <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>A logical for logging results (other than warnings and errors,
which are always shown) as they are generated during training in a single
R process. When using most parallel backends, this argument typically will
not result in any logging. If using a dark IDE theme, some logging messages
might be hard to see; try setting the <code>tidymodels.dark</code> option with
<code>options(tidymodels.dark = TRUE)</code> to print lighter colors.</p></dd>


<dt id="arg-verbose-iter">verbose_iter<a class="anchor" aria-label="anchor" href="#arg-verbose-iter"></a></dt>
<dd><p>A logical for logging results of the search
process. Defaults to FALSE. If using a dark IDE theme, some logging
messages might be hard to see; try setting the <code>tidymodels.dark</code> option
with <code>options(tidymodels.dark = TRUE)</code> to print lighter colors.</p></dd>


<dt id="arg-no-improve">no_improve<a class="anchor" aria-label="anchor" href="#arg-no-improve"></a></dt>
<dd><p>The integer cutoff for the number of iterations without
better results.</p></dd>


<dt id="arg-restart">restart<a class="anchor" aria-label="anchor" href="#arg-restart"></a></dt>
<dd><p>The number of iterations with no improvement before new tuning
parameter candidates are generated from the last, overall best conditions.</p></dd>


<dt id="arg-radius">radius<a class="anchor" aria-label="anchor" href="#arg-radius"></a></dt>
<dd><p>Two real numbers on <code>(0, 1)</code> describing what a value "in the
neighborhood" of the current result should be. If all numeric parameters were
scaled to be on the <code>[0, 1]</code> scale, these values set the min. and max.
of a radius of a circle used to generate new numeric parameter values.</p></dd>


<dt id="arg-flip">flip<a class="anchor" aria-label="anchor" href="#arg-flip"></a></dt>
<dd><p>A real number between <code>[0, 1]</code> for the probability of changing
any non-numeric parameter values at each iteration.</p></dd>


<dt id="arg-cooling-coef">cooling_coef<a class="anchor" aria-label="anchor" href="#arg-cooling-coef"></a></dt>
<dd><p>A real, positive number to influence the cooling
schedule. Larger values decrease the probability of accepting a sub-optimal
parameter setting.</p></dd>


<dt id="arg-extract">extract<a class="anchor" aria-label="anchor" href="#arg-extract"></a></dt>
<dd><p>An optional function with at least one argument (or <code>NULL</code>)
that can be used to retain arbitrary objects from the model fit object,
recipe, or other elements of the workflow.</p></dd>


<dt id="arg-save-pred">save_pred<a class="anchor" aria-label="anchor" href="#arg-save-pred"></a></dt>
<dd><p>A logical for whether the out-of-sample predictions should
be saved for each model <em>evaluated</em>.</p></dd>


<dt id="arg-time-limit">time_limit<a class="anchor" aria-label="anchor" href="#arg-time-limit"></a></dt>
<dd><p>A number for the minimum number of <em>minutes</em> (elapsed) that
the function should execute. The elapsed time is evaluated at internal
checkpoints and, if over time, the results at that time are returned (with
a warning). This means that the <code>time_limit</code> is not an exact limit, but a
minimum time limit.</p></dd>


<dt id="arg-pkgs">pkgs<a class="anchor" aria-label="anchor" href="#arg-pkgs"></a></dt>
<dd><p>An optional character string of R package names that should be
loaded (by namespace) during parallel processing.</p></dd>


<dt id="arg-save-workflow">save_workflow<a class="anchor" aria-label="anchor" href="#arg-save-workflow"></a></dt>
<dd><p>A logical for whether the workflow should be appended
to the output as an attribute.</p></dd>


<dt id="arg-save-history">save_history<a class="anchor" aria-label="anchor" href="#arg-save-history"></a></dt>
<dd><p>A logical to save the iteration details of the search.
These are saved to <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code> named <code>sa_history.RData</code>. These results are
deleted when the R session ends. This option is only useful for teaching
purposes.</p></dd>


<dt id="arg-event-level">event_level<a class="anchor" aria-label="anchor" href="#arg-event-level"></a></dt>
<dd><p>A single string containing either <code>"first"</code> or <code>"second"</code>.
This argument is passed on to yardstick metric functions when any type
of class prediction is made, and specifies which level of the outcome
is considered the "event".</p></dd>


<dt id="arg-parallel-over">parallel_over<a class="anchor" aria-label="anchor" href="#arg-parallel-over"></a></dt>
<dd><p>A single string containing either <code>"resamples"</code> or
<code>"everything"</code> describing how to use parallel processing. Alternatively,
<code>NULL</code> is allowed, which chooses between <code>"resamples"</code> and <code>"everything"</code>
automatically.</p>
<p>If <code>"resamples"</code>, then tuning will be performed in parallel over resamples
alone. Within each resample, the preprocessor (i.e. recipe or formula) is
processed once, and is then reused across all models that need to be fit.</p>
<p>If <code>"everything"</code>, then tuning will be performed in parallel at two levels.
An outer parallel loop will iterate over resamples. Additionally, an
inner parallel loop will iterate over all unique combinations of
preprocessor and model tuning parameters for that specific resample. This
will result in the preprocessor being re-processed multiple times, but
can be faster if that processing is extremely fast.</p>
<p>If <code>NULL</code>, chooses <code>"resamples"</code> if there are more than one resample,
otherwise chooses <code>"everything"</code> to attempt to maximize core utilization.</p>
<p>Note that switching between <code>parallel_over</code> strategies is not guaranteed
to use the same random number generation schemes. However, re-tuning a
model using the same <code>parallel_over</code> strategy is guaranteed to be
reproducible between runs.</p></dd>


<dt id="arg-allow-par">allow_par<a class="anchor" aria-label="anchor" href="#arg-allow-par"></a></dt>
<dd><p>A logical to allow parallel processing (if a parallel
backend is registered).</p></dd>


<dt id="arg-backend-options">backend_options<a class="anchor" aria-label="anchor" href="#arg-backend-options"></a></dt>
<dd><p>An object of class <code>"tune_backend_options"</code> as created
by <code><a href="https://tune.tidymodels.org/reference/control_grid.html" class="external-link">tune::new_backend_options()</a></code>, used to pass arguments to specific tuning
backend. Defaults to <code>NULL</code> for default backend options.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>control_sim_anneal</code> that echos the argument values.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">control_sim_anneal</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simulated annealing control object</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/topepo" class="external-link">Max Kuhn</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

  </div></footer></body></html>

